@page "/"


<PageTitle>Index</PageTitle>


<AddItem AddToDoItems="AddItem"></AddItem>

<Items ToDoItems="items"></Items>

@code {
    private List<Item> items; // = new List<Item>();

    [Inject]
    public IToDoClient ToDoClient { get; set; } = default!;

    protected override async Task OnInitializedAsync()
    {
        //  throw new ArgumentException();
        items = (await ToDoClient.GetAsync()).ToList();
    }

    private async Task AddItem(CreateItem createItem)
    {
        //Validate
        //Create Item
        //Post Item
        //Check reponse
        //Add Item to UI
        var item = new Item
            {
                Text = createItem.Text
            };

        items.Add(item);



    }
}